# Pipeline Configuration for py_ntcpx_v1.0.0
# Publication-ready configuration

pipeline:
  version: "1.0.0"
  random_seed: 42
  
validation:
  method: "nested_cv"  # Options: nested_cv, train_test_split, loocv
  outer_folds: 5
  inner_folds: 3
  test_size: 0.2
  stratify: true
  stratify_columns: ["Observed_Toxicity"]

models:
  traditional:
    lkb_log_logit:
      enabled: true
      TD50_bounds: [10, 70]
      m_bounds: [0.05, 0.5]
      optimization: "differential_evolution"
      
    lkb_probit:
      enabled: true
      TD50_bounds: [10, 70]
      gamma50_bounds: [0.5, 3.0]
      
    rs_poisson:
      enabled: true
      D50_bounds: [10, 70]
      gamma_bounds: [0.5, 3.0]
      
  machine_learning:
    ann:
      enabled: true
      hidden_layers: [16, 8]
      dropout_rate: 0.3
      l2_alpha: 0.01
      learning_rate: 0.001
      max_epochs: 500
      early_stopping_patience: 20
      
    xgboost:
      enabled: true
      max_depth: 2
      n_estimators: 50
      learning_rate: 0.05
      subsample: 0.7
      colsample_bytree: 0.7
      reg_alpha: 0.5
      reg_lambda: 2.0

features:
  selection_method: "domain_knowledge"  # Options: domain_knowledge, lasso, univariate, none
  max_features_epv_ratio: 10  # max_features = n_events / this value
  parotid_essential: ["Dmean", "V30", "V45"]
  
reporting:
  confidence_level: 0.95
  n_bootstraps: 2000
  figure_dpi: 600
  decimal_places: 3
  
quality_assurance:
  check_data_leakage: true
  check_overfitting: true
  auc_gap_threshold: 0.15
  cv_std_threshold: 0.15
